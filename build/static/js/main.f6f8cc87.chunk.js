(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){"use strict";(function(e){var n=a(4),c=a(5),i=a(7),o=a(6),r=a(8),s=(a(31),a(0)),l=a.n(s),u=a(3),m=a.n(u),d=a(19),v=a(22),h=a(20),p=a(21),f=(a(52),e.key),b="https://api.themoviedb.org/3",E=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={currentMovie:{},movieList:{}},a}return Object(r.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){m.a.get("".concat(b,"/discover/movie").concat(f).concat("&language=fr&sort_by=popularity.desc&include_adult=false&append_to_response=images")).then(function(e){this.setState({movieList:e.data.results.splice(1,6),currentMovie:e.data.results[0]},function(){this.applyVideoToCurrentMovie()})}.bind(this))}},{key:"applyVideoToCurrentMovie",value:function(){m.a.get("".concat(b,"/movie/").concat(this.state.currentMovie.id,"/videos").concat(f)).then(function(e){var t=e.data.results[0].key,a=this.state.currentMovie;a.videoId=t,this.setState({currentMovie:a})}.bind(this))}},{key:"onClickListItem",value:function(e){this.setState({currentMovie:e},function(){this.applyVideoToCurrentMovie(),this.setRecommandation()})}},{key:"onClickSearch",value:function(e){e&&m.a.get("".concat(b,"/search/movie").concat(f,"&query=").concat(e)).then(function(e){var t=this;e.data&&e.data.results[0]&&e.data.results[0].id!==this.state.currentMovie.id&&this.setState({currentMovie:e.data.results[0]},function(){t.applyVideoToCurrentMovie(),t.setRecommandation()})}.bind(this))}},{key:"setRecommandation",value:function(){m.a.get("".concat(b,"/movie/").concat(this.state.currentMovie.id,"/recommendations").concat(f,"&language=fr")).then(function(e){this.setState({movieList:e.data.results.splice(0,5)})}.bind(this))}},{key:"render",value:function(){var e=this;return l.a.createElement("section",null,l.a.createElement("div",{className:"container padding-50-bottom"},l.a.createElement("nav",{className:"navbar navbar-expand"},l.a.createElement("form",{className:"collapse navbar-collapse w-100 order-3 dual-collapse1",id:"navbarSupportedContent"},l.a.createElement(d.a,{callback:this.onClickSearch.bind(this)})))),l.a.createElement("div",{className:"container padding-50"},l.a.createElement("h1",{className:"text-center"},this.state.currentMovie.title),l.a.createElement("hr",null)),l.a.createElement("div",{className:"row padding-50-bottom"},l.a.createElement("div",{className:"col-md-12 text-center"},l.a.createElement(p.a,{videoId:this.state.currentMovie.videoId}))),l.a.createElement("div",{className:"container padding-50"},l.a.createElement("div",{className:"row padding-50-bottom"},l.a.createElement("div",{className:"col-md-12 text-center"},l.a.createElement(h.a,{description:this.state.currentMovie.overview})))),l.a.createElement("div",{className:"padding-50-bottom"}),l.a.createElement("div",{className:"container"},l.a.createElement("h1",{className:"font-40 text-center"},"Suggestions"),l.a.createElement("hr",null),l.a.createElement("div",{className:"padding-50-bottom"}),l.a.createElement("div",{className:"col-md-12"},function(){if(e.state.movieList.length>=5)return l.a.createElement(v.a,{movieList:e.state.movieList,callback:e.onClickListItem.bind(e)})}())))}}]),t}(s.Component);t.a=E}).call(this,a(11))},19:function(e,t,a){"use strict";var n=a(4),c=a(5),i=a(7),o=a(6),r=a(8),s=a(0),l=a.n(s),u=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={searchText:"",placeHolder:"Rechercher un film...",intervalBeforeRequest:1e3,lockRequest:!1},a}return Object(r.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){e.preventDefault(),this.setState({searchText:e.target.value}),this.state.lockRequest||(this.setState({lockRequest:!0}),setTimeout(function(){this.search()}.bind(this),this.state.intervalBeforeRequest))}},{key:"search",value:function(){this.props.callback(this.state.searchText),this.setState({lockRequest:!1})}},{key:"handleOnClick",value:function(e){e.preventDefault(),this.search()}},{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"col-md-12 input-group mb-3 text-center"},l.a.createElement("input",{type:"text",className:"form-control form-control",onChange:this.handleChange.bind(this),placeholder:this.state.placeHolder})))}}]),t}(s.Component);t.a=u},20:function(e,t,a){"use strict";var n=a(0),c=a.n(n);t.a=function(e){var t=e.title,a=e.description;return c.a.createElement("div",null,c.a.createElement("h1",{className:"font-40"},t),c.a.createElement("p",{className:"font-20"},a))}},21:function(e,t,a){"use strict";var n=a(0),c=a.n(n);t.a=function(e){var t=e.videoId;return c.a.createElement("div",{className:"embed-responsive embed-responsive-21by9"},c.a.createElement("iframe",{className:"embed-responsive-item",src:"".concat("https://www.youtube.com/embed/").concat(t)}))}},22:function(e,t,a){"use strict";var n=a(0),c=a.n(n),i=function(e){var t=e.movie;return c.a.createElement("li",{className:"hover-img",onClick:function(a){e.callback(t)}},c.a.createElement("div",{className:"col-md-10"},c.a.createElement("figure",null,c.a.createElement("img",{className:"media-object img-rounded",height:"300px",width:"200px",src:"".concat("https://image.tmdb.org/t/p/w500").concat(t.poster_path),alt:"".concat("https://image.tmdb.org/t/p/w500").concat(t.poster_path)})),c.a.createElement("span",null,t.title)))};t.a=function(e){var t=e.movieList;return c.a.createElement("div",{className:"col-md-12"},c.a.createElement("ul",null,t.map(function(e){return c.a.createElement(i,{key:e.id,movie:e,callback:a})})));function a(t){e.callback(t)}}},23:function(e,t,a){e.exports=a(53)},28:function(e,t,a){},31:function(e,t,a){},52:function(e,t,a){(function(e){e.key="?api_key=40f49ae6cade911ce82a1033a7beacf4"}).call(this,a(11))},53:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(17),o=a.n(i),r=(a(28),a(18));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(r.a,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,2,1]]]);
//# sourceMappingURL=main.f6f8cc87.chunk.js.map